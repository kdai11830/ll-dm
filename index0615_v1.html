<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LL_DM Interface</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f7f7f7;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
        }
        .story {
            margin: 20px 0;
            text-align: justify;
            line-height: 1.6;
        }
        .chatbox {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
        }
        .chatbox.user {
            background-color: #e1f5fe;
            text-align: right;
        }
        .chatbox.assistant {
            background-color: #fff3e0;
            text-align: left;
        }
        .form-container {
            margin: 20px 0;
            width: 100%;
            text-align: center;
        }
        .form-container form {
            display: inline-block;
            width: 100%;
        }
        .form-container input[type="text"] {
            width: calc(100% - 32px); /* 32px accounts for padding and border */
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            border: 1px solid #ccc;
            box-sizing: border-box; /* Ensures padding and border are included in the width */
            font-size: 16px;
        }
        .form-container button {
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
            background-color: #007BFF;
            color: white;
            cursor: pointer;
            font-size: 16px;
        }
        .form-container button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>LL_DM</h1>
        <div class="story">
            <p>In the tranquil town of Windshade, nestled between rolling hills and verdant forests, life moves at a gentle pace. The Dragon's Flagon tavern stands at the heart of this bustling village, a place where stories are shared, and adventures begin. The tavern's warm glow and lively atmosphere provide a sanctuary for weary travelers and eager adventurers alike.</p>
            <p>You, Elara Windrider, a brave and determined fighter, sit quietly at a corner table, listening intently to the tales of old. Trained by your father, a retired soldier, you left your small village with a singular goal: to protect the innocent and uphold justice. Your heart yearns for a quest worthy of your skills and valor.</p>
            <p>On this fateful evening, an old traveler with a weathered face and a knowing smile shares a tale that catches your attention. He speaks of an ancient and powerful sword hidden deep within the Whispering Woods, a mysterious forest to the north. The sword, known as the Sword of the Phoenix, is said to possess the strength of the mythical bird, capable of defeating the darkest of evils. The traveler warns that the sword is the key to vanquishing a fearsome dragon named Shadowflame, who has taken residence in the abandoned Blackstone Keep, casting a shadow of terror over the region.</p>
        </div>

        <div id="chat-history">
            {% if chat_history %}
                {% for message in chat_history %}
                    <div class="chatbox {{ message.role }}">
                        <p>{{ message.content }}</p>
                    </div>
                {% endfor %}
            {% endif %}
        </div>


        <div class="form-container">
            <form method="post">
                <label for="user_input">What would you like to do, Elara?</label>
                <input type="text" id="user_input" name="user_input" required>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>
</body>
</html>
